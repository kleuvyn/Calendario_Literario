{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/api-client.ts"],"sourcesContent":["export interface User {\n  id: number;\n  email: string;\n  name: string;\n  image?: string;\n}\n\nexport interface ReadingDay {\n  id: number;\n  day: number;\n  month: number;\n  year: number;\n  start_date: string;\n  end_date?: string;\n  book_name: string;\n  status: string;\n  email: string;\n  user_id: number;\n  rating?: number;\n  cover_url?: string;\n  display_pages?: number;\n}\n\nexport interface Book {\n  book_name: string;\n  cover_url?: string;\n  rating: number;\n  start_date?: string;\n  end_date?: string;\n  display_pages?: number;\n}\n\nexport async function loginUser(email: string, name?: string, image?: string): Promise<User> {\n  const response = await fetch(\"/api/auth/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email, name, image }),\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao fazer login\");\n  const data = await response.json();\n  return data.user;\n}\n\nexport async function getReadingData(email: string, year: number, month?: number, signal?: AbortSignal): Promise<ReadingDay[]> {\n  let url = `/api/reading-data?email=${encodeURIComponent(email)}&year=${year}`;\n  \n  if (month !== undefined) {\n    url += `&month=${month}`;\n  }\n  \n  url += `&t=${Date.now()}`;\n\n  const response = await fetch(url, {\n    cache: 'no-store'\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Erro ao buscar dados de leitura\");\n  }\n\n  const data = await response.json();\n  return data.data || [];\n}\n\nexport async function saveReadingDay(\n  email: string,\n  year: number,\n  month: number,\n  day: number,\n  startDate: string,\n  endDate: string,\n  bookName: string,\n  action: \"START_READING\" | \"FINISH_READING\"\n) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email, year, month, day, startDate, endDate, bookName, action }),\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao salvar dados\");\n  return response.json();\n}\n\nexport async function saveReview(\n  email: string, \n  bookName: string, \n  rating: number, \n  coverUrl: string,\n  totalPages?: number\n) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ \n      email, \n      bookName, \n      rating, \n      coverUrl, \n      totalPages,\n      action: \"UPDATE_REVIEW\" \n    }),\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao salvar avaliação\");\n  return response.json();\n}\n\nexport async function updateProfileImage(email: string, imageUrl: string) {\n  const response = await fetch(\"/api/user/update-profile\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email, image: imageUrl }),\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao atualizar foto de perfil\");\n  return response.json();\n}\n\nexport async function deleteBookRecord(id: string) {\n  const response = await fetch(`/api/books/${id}`, {\n    method: \"DELETE\",\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao deletar\");\n  return response.json();\n}\n\nexport async function updateBookName(id: string, title: string) {\n  const response = await fetch(`/api/books/${id}`, {\n    method: \"PATCH\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ title }),\n  });\n\n  if (!response.ok) throw new Error(\"Erro ao atualizar nome\");\n  return response.json();\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgCO,eAAe,UAAU,KAAa,EAAE,IAAa,EAAE,KAAc;IAC1E,MAAM,WAAW,MAAM,MAAM,mBAAmB;QAC9C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;YAAM;QAAM;IAC5C;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,eAAe,KAAa,EAAE,IAAY,EAAE,KAAc,EAAE,MAAoB;IACpG,IAAI,MAAM,CAAC,wBAAwB,EAAE,mBAAmB,OAAO,MAAM,EAAE,MAAM;IAE7E,IAAI,UAAU,WAAW;QACvB,OAAO,CAAC,OAAO,EAAE,OAAO;IAC1B;IAEA,OAAO,CAAC,GAAG,EAAE,KAAK,GAAG,IAAI;IAEzB,MAAM,WAAW,MAAM,MAAM,KAAK;QAChC,OAAO;IACT;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACvD,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;IACrC;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO,KAAK,IAAI,IAAI,EAAE;AACxB;AAEO,eAAe,eACpB,KAAa,EACb,IAAY,EACZ,KAAa,EACb,GAAW,EACX,SAAiB,EACjB,OAAe,EACf,QAAgB,EAChB,MAA0C;IAE1C,MAAM,WAAW,MAAM,MAAM,qBAAqB;QAChD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;YAAM;YAAO;YAAK;YAAW;YAAS;YAAU;QAAO;IACvF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,WACpB,KAAa,EACb,QAAgB,EAChB,MAAc,EACd,QAAgB,EAChB,UAAmB;IAEnB,MAAM,WAAW,MAAM,MAAM,qBAAqB;QAChD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YACnB;YACA;YACA;YACA;YACA;YACA,QAAQ;QACV;IACF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,mBAAmB,KAAa,EAAE,QAAgB;IACtE,MAAM,WAAW,MAAM,MAAM,4BAA4B;QACvD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO,OAAO;QAAS;IAChD;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,WAAW,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;QAC/C,QAAQ;IACV;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,eAAe,EAAU,EAAE,KAAa;IAC5D,MAAM,WAAW,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;QAC/C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAM;IAC/B;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;IAClC,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/app/retrospectiva/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useMemo, useRef } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { Card } from \"@/components/ui/card\"\nimport { BookOpen, Hash, Loader2, Star, ArrowLeft, Instagram, Crown, Calendar, Heart } from \"lucide-react\"\nimport { getReadingData } from \"@/lib/api-client\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { PieChart, Pie, Cell, ResponsiveContainer } from \"recharts\"\nimport { domToPng } from \"modern-screenshot\"\n\nconst THEMES = {\n  rose: { bg: '#f8fafc', card: '#ffffff', primary: '#e11d48', text: '#1e293b', accent: '#3b82f6' },\n  dark: { bg: '#0f172a', card: '#1e293b', primary: '#38bdf8', text: '#f1f5f9', accent: '#818cf8' },\n  soft: { bg: '#fdf4ff', card: '#ffffff', primary: '#a855f7', text: '#581c87', accent: '#ec4899' },\n  coffee: { bg: '#fafaf9', card: '#ffffff', primary: '#78350f', text: '#44403c', accent: '#a16207' }\n}\n\nconst GENRE_COLORS = [\"#ec4899\", \"#64748b\", \"#a855f7\", \"#ef4444\", \"#3b82f6\", \"#94a3b8\"];\n\nexport default function RetrospectivaPage() {\n  const { data: session, status } = useSession()\n  const [allBooks, setAllBooks] = useState<any[]>([])\n  const [favorites, setFavorites] = useState<any[]>([])\n  const [loadingData, setLoadingData] = useState(true)\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [currentTheme, setCurrentTheme] = useState<keyof typeof THEMES>('rose')\n  \n  const currentYear = new Date().getFullYear()\n  const storyRef = useRef<HTMLDivElement>(null)\n  const theme = THEMES[currentTheme]\n\n  useEffect(() => {\n    async function loadData() {\n      if (status === \"authenticated\" && session?.user?.email) {\n        try {\n          const data: any = await getReadingData(session.user.email, currentYear)\n          const booksArray = Array.isArray(data) ? data : (data?.data || [])\n          setAllBooks(booksArray.filter((b: any) => b.status !== 'lendo'))\n        } catch (err) { console.error(err) } finally { setLoadingData(false) }\n      } else if (status === \"unauthenticated\") { setLoadingData(false) }\n    }\n    loadData()\n  }, [status, session, currentYear])\n\n  const toggleFavorite = (book: any) => {\n    setFavorites(prev => {\n      const isFav = prev.find(b => b.id === book.id);\n      if (isFav) return prev.filter(b => b.id !== book.id);\n      if (prev.length >= 3) return prev;\n      return [...prev, book];\n    });\n  };\n\n  const handleExportImage = async () => {\n    if (!storyRef.current) return\n    setIsGenerating(true)\n    try {\n      await new Promise(r => setTimeout(r, 600));\n      const dataUrl = await domToPng(storyRef.current, {\n        scale: 3,\n        backgroundColor: theme.bg,\n        width: 400,\n        height: 880, // Ajustado para caber o destaque de volta\n      })\n      const link = document.createElement('a')\n      link.download = `minha-retro-2025.png`\n      link.href = dataUrl\n      link.click()\n    } catch (err) { alert(\"Erro ao gerar imagem.\") } finally { setIsGenerating(false) }\n  }\n\n  const genreData = useMemo(() => {\n    const counts: Record<string, number> = {}\n    allBooks.forEach(b => { const g = b.genre || \"Outros\"; counts[g] = (counts[g] || 0) + 1 })\n    return Object.entries(counts).map(([name, value]) => ({ name, value }))\n  }, [allBooks])\n\n  const stats = useMemo(() => {\n    if (allBooks.length === 0) return null\n    const totalPages = allBooks.reduce((acc, b) => acc + (Number(b.total_pages) || 0), 0)\n    // Encontrar o livro com mais páginas para o destaque\n    const topBook = [...allBooks].sort((a, b) => (Number(b.total_pages) || 0) - (Number(a.total_pages) || 0))[0]\n    return { \n      totalBooks: allBooks.length, \n      totalPages, \n      topGenre: genreData.sort((a,b) => b.value - a.value)[0]?.name || \"Nenhum\",\n      topBook\n    }\n  }, [allBooks, genreData])\n\n  if (loadingData) return <div className=\"h-screen flex items-center justify-center\"><Loader2 className=\"animate-spin text-rose-500\" /></div>\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 pb-20 font-sans transition-colors duration-500\">\n      <div className=\"max-w-6xl mx-auto p-4 space-y-8\">\n        \n        <header className=\"flex flex-col md:flex-row justify-between items-center gap-6 px-4 no-export\">\n          <Link href=\"/\"><Button variant=\"ghost\" className=\"text-[10px] font-black uppercase\"><ArrowLeft size={14} className=\"mr-2\"/> Voltar</Button></Link>\n          \n          <div className=\"flex bg-white p-1 rounded-full shadow-inner border border-slate-200\">\n            {Object.keys(THEMES).map((t) => (\n              <button key={t} onClick={() => setCurrentTheme(t as any)} className={`w-8 h-8 rounded-full m-1 transition-all ${currentTheme === t ? 'scale-110 ring-2 ring-slate-400' : 'opacity-40 hover:opacity-100'}`} style={{ backgroundColor: THEMES[t as keyof typeof THEMES].primary }} />\n            ))}\n          </div>\n\n          <Button onClick={handleExportImage} disabled={isGenerating} className=\"bg-slate-900 text-white rounded-full font-black uppercase text-[10px] px-8 h-11\">\n            {isGenerating ? <Loader2 className=\"animate-spin\" size={14}/> : \"Baixar Story\"}\n          </Button>\n        </header>\n\n        {allBooks.length > 0 ? (\n          <>\n            <div className=\"flex justify-center\">\n              {/* ÁREA DE CAPTURA ATUALIZADA */}\n              <div ref={storyRef} style={{ width: '400px', height: '880px', backgroundColor: theme.bg }} className=\"p-8 flex flex-col justify-between rounded-[40px] shadow-2xl overflow-hidden border border-black/5\">\n                <div className=\"text-center\">\n                   <h1 style={{ color: theme.text }} className=\"text-3xl font-black uppercase tracking-tighter leading-none italic\">Minha<br/>Jornada {currentYear}</h1>\n                   <p style={{ color: theme.primary }} className=\"text-[9px] font-bold uppercase tracking-[0.4em] mt-4\">@meu.calendario.literario</p>\n                </div>\n\n                {/* Top Favoritos */}\n                <div className=\"space-y-3\">\n                  <p style={{ color: theme.text }} className=\"text-[8px] font-black uppercase tracking-widest text-center opacity-40\">Meu Pódio do Ano</p>\n                  <div className=\"flex justify-center gap-3\">\n                    {favorites.length > 0 ? favorites.map((fav, i) => (\n                      <div key={i} className=\"w-16 h-24 rounded-lg overflow-hidden shadow-lg border-2 border-white bg-slate-100\">\n                        <img src={fav.cover_url} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n                      </div>\n                    )) : (\n                      <div className=\"h-24 w-full border-2 border-dashed rounded-3xl flex items-center justify-center opacity-20\" style={{ borderColor: theme.text }}>\n                        <Heart size={20} />\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* VOLTOU: O Livro do Ano (Maior Leitura) */}\n                <div style={{ backgroundColor: theme.card }} className=\"p-3 rounded-2xl shadow-sm flex items-center gap-3 border border-black/5 mx-2\">\n                   <div className=\"w-10 h-14 bg-slate-100 rounded-md overflow-hidden shrink-0\">\n                      <img src={stats?.topBook?.cover_url} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n                   </div>\n                   <div className=\"min-w-0\">\n                      <div className=\"flex items-center gap-1 mb-0.5\" style={{ color: theme.primary }}>\n                        <Crown size={10} fill=\"currentColor\" />\n                        <span className=\"text-[7px] font-black uppercase\">Maior Desafio</span>\n                      </div>\n                      <p style={{ color: theme.text }} className=\"text-[10px] font-black uppercase truncate\">{stats?.topBook?.book_name}</p>\n                      <p className=\"text-[8px] font-bold opacity-50 uppercase\" style={{ color: theme.text }}>{stats?.topBook?.total_pages} pág.</p>\n                   </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Card style={{ backgroundColor: theme.card }} className=\"p-4 border-none shadow-sm rounded-[25px] flex flex-col items-center\">\n                    <BookOpen style={{ color: theme.accent }} size={16} />\n                    <span style={{ color: theme.text }} className=\"text-3xl font-black tracking-tighter\">{stats?.totalBooks}</span>\n                    <span className=\"text-[7px] font-black uppercase opacity-40\" style={{ color: theme.text }}>Lidos</span>\n                  </Card>\n                  <Card style={{ backgroundColor: theme.card }} className=\"p-4 border-none shadow-sm rounded-[25px] flex flex-col items-center\">\n                    <Hash style={{ color: theme.primary }} size={16} />\n                    <span style={{ color: theme.text }} className=\"text-2xl font-black tracking-tighter\">{stats?.totalPages.toLocaleString()}</span>\n                    <span className=\"text-[7px] font-black uppercase opacity-40\" style={{ color: theme.text }}>Páginas</span>\n                  </Card>\n                </div>\n\n                <div style={{ backgroundColor: theme.primary }} className=\"p-4 rounded-[25px] text-center shadow-md\">\n                   <p className=\"text-white text-sm font-black uppercase tracking-tight truncate\">{stats?.topGenre}</p>\n                   <p className=\"text-white/60 text-[7px] font-black uppercase tracking-widest mt-1\">Gênero Favorito</p>\n                </div>\n\n                <div style={{ backgroundColor: theme.card }} className=\"p-5 rounded-[25px] shadow-sm flex flex-col items-center justify-center\">\n                   <div className=\"h-24 w-full\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <PieChart>\n                        <Pie data={genreData} innerRadius={25} outerRadius={38} dataKey=\"value\" isAnimationActive={false}>\n                          {genreData.map((_, index) => (\n                            <Cell key={index} fill={GENRE_COLORS[index % GENRE_COLORS.length]} stroke=\"none\" />\n                          ))}\n                        </Pie>\n                      </PieChart>\n                    </ResponsiveContainer>\n                   </div>\n                </div>\n\n                <div className=\"text-center pt-2 opacity-20\" style={{ color: theme.text }}>\n                   <p className=\"text-[7px] font-black uppercase tracking-[0.5em]\">Estante Literária</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Galeria Inferior */}\n            <div className=\"space-y-6 pt-10 px-4\">\n              <h2 className=\"text-xs font-black uppercase text-slate-400 flex items-center justify-between\">\n                <span className=\"flex items-center gap-3\"><Calendar size={18} /> Selecione seus 3 favoritos</span>\n                <span className=\"text-rose-500\">{favorites.length}/3 selecionados</span>\n              </h2>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6\">\n                {allBooks.map((book, i) => {\n                  const isFav = favorites.find(f => f.id === book.id);\n                  return (\n                    <div key={i} onClick={() => toggleFavorite(book)} className=\"group cursor-pointer relative\">\n                      <div className={`aspect-[2/3] rounded-2xl overflow-hidden shadow-md border-4 transition-all ${isFav ? 'border-rose-500 scale-105 shadow-rose-200' : 'border-white bg-slate-200 group-hover:-translate-y-1'}`}>\n                        <img src={book.cover_url || \"https://via.placeholder.com/300x450\"} className=\"w-full h-full object-cover\" alt={book.book_name} />\n                        {isFav && <div className=\"absolute inset-0 bg-rose-500/20 flex items-center justify-center\"><Heart fill=\"white\" className=\"text-white\" size={32} /></div>}\n                      </div>\n                      <p className=\"text-[10px] font-black uppercase text-slate-700 mt-3 truncate\">{book.book_name}</p>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center p-20 border-2 border-dashed rounded-[40px] text-slate-300 font-black uppercase text-xs tracking-widest\">Sem dados registrados em {currentYear}</div>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}