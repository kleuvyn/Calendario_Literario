{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/api-client.ts"],"sourcesContent":["export interface User {\n  id: number;\n  email: string;\n  name: string;\n  image?: string;\n  literary_goal?: number;\n}\n\nexport interface ReadingDay {\n  id: number;\n  day: number;\n  month: number;\n  year: number;\n  start_date: string;\n  end_date?: string;\n  book_name: string;\n  status: string;\n  email: string;\n  user_id: number;\n  rating?: number;\n  cover_url?: string;\n  display_pages?: number;\n}\n\nexport interface Book {\n  book_name: string;\n  cover_url?: string;\n  rating: number;\n  start_date?: string;\n  end_date?: string;\n  display_pages?: number;\n}\n\nexport async function loginUser(email: string, name?: string, image?: string): Promise<User> {\n  const response = await fetch(\"/api/auth/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email: email.toLowerCase(), name, image }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao fazer login\");\n  const data = await response.json();\n  return data.user;\n}\n\nexport async function getReadingData(email: string, year: number, month?: number, signal?: AbortSignal): Promise<any> {\n  let url = `/api/reading-data?email=${encodeURIComponent(email.toLowerCase())}&year=${year}`;\n  if (month !== undefined) url += `&month=${month}`;\n  url += `&t=${Date.now()}`;\n  const response = await fetch(url, { cache: 'no-store', signal });\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Erro ao buscar dados\");\n  }\n  return await response.json();\n}\n\nexport async function updateUserGoal(email: string, goal: number) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ action: \"SET_GOAL\", email: email.toLowerCase(), goal }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar meta\");\n  return response.json();\n}\n\nexport async function saveReadingDay(\n  email: string, year: number, month: number, day: number,\n  startDate: string, endDate: string, bookName: string,\n  action: \"START_READING\" | \"FINISH_READING\"\n) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email: email.toLowerCase(), year, month, day, startDate, endDate, bookName, action }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar dados\");\n  return response.json();\n}\n\nexport async function saveReview(email: string, bookName: string, rating: number, coverUrl: string, totalPages?: number) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email: email.toLowerCase(), bookName, rating, coverUrl, totalPages, action: \"UPDATE_REVIEW\" }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar avaliação\");\n  return response.json();\n}\n\nexport async function updateProfileImage(email: string, imageUrl: string) {\n  const response = await fetch(\"/api/user/update-profile\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email: email.toLowerCase(), image: imageUrl }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao atualizar foto de perfil\");\n  return response.json();\n}\n\nexport async function deleteBookRecord(id: string) {\n  const response = await fetch(`/api/books/${id}`, { method: \"DELETE\" });\n  if (!response.ok) throw new Error(\"Erro ao deletar\");\n  return response.json();\n}\n\nexport async function updateBookName(id: string, title: string) {\n  const response = await fetch(`/api/books/${id}`, {\n    method: \"PATCH\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ title }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao atualizar nome\");\n  return response.json();\n}\n\nexport async function deleteFullAccount() {\n  const response = await fetch(\"/api/user/delete-account\", {\n    method: \"DELETE\",\n    cache: 'no-store' // Evita que o navegador use cache para exclusão\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Erro ao apagar conta\");\n  }\n\n  return response.json();\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/app/retrospectiva/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useMemo, useRef } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { BookOpen, Loader2, Star, ArrowLeft, Instagram, Crown, Calendar } from \"lucide-react\"\nimport { getReadingData } from \"@/lib/api-client\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { PieChart, Pie, Cell, ResponsiveContainer } from \"recharts\"\nimport { domToPng } from \"modern-screenshot\"\n\nconst THEMES = {\n  rose: { primary: '#f4a6f0', bg: '#fff5f6', text: '#a64d9c', card: '#ffffff' },\n  dark: { primary: '#38bdf8', bg: '#f0f7ff', text: '#1e293b', card: '#ffffff' },\n  soft: { primary: '#a855f7', bg: '#faf5ff', text: '#5b1c87', card: '#ffffff' },\n  coffee: { primary: '#7c3f17', bg: '#fafaf9', text: '#4b3832', card: '#ffffff' }\n}\n\nconst GENRE_COLORS = [\"#ec4899\", \"#3b82f6\", \"#a855f7\", \"#ef4444\", \"#10b981\", \"#f59e0b\", \"#64748b\", \"#06b6d4\"];\n\nexport default function RetrospectivaPage() {\n  const { data: session, status } = useSession()\n  const [allBooks, setAllBooks] = useState<any[]>([])\n  const [loadingData, setLoadingData] = useState(true)\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [currentTheme, setCurrentTheme] = useState<keyof typeof THEMES>('rose')\n  \n  const currentYear = 2025\n  const theme = THEMES[currentTheme]\n\n  const storyResumoRef = useRef<HTMLDivElement>(null)\n  const paginasLivrosRef = useRef<(HTMLDivElement | null)[]>([])\n\n  useEffect(() => {\n    async function loadData() {\n      if (status === \"authenticated\" && session?.user?.email) {\n        try {\n          const data: any = await getReadingData(session.user.email, currentYear)\n          const booksArray = Array.isArray(data) ? data : (data?.data || [])\n          setAllBooks(booksArray.filter((b: any) => b.status !== 'lendo'))\n        } catch (err) { console.error(err) } finally { setLoadingData(false) }\n      } else if (status === \"unauthenticated\") { setLoadingData(false) }\n    }\n    loadData()\n  }, [status, session, currentYear])\n\n  const bookChunks = useMemo(() => {\n    const chunks = []\n    const limit = allBooks.length <= 40 ? 40 : 100\n    for (let i = 0; i < allBooks.length; i += limit) {\n      chunks.push(allBooks.slice(i, i + limit))\n    }\n    return chunks\n  }, [allBooks])\n\n  const getGridCols = (count: number) => {\n    if (count <= 9) return 'grid-cols-3';\n    if (count <= 16) return 'grid-cols-4';\n    if (count <= 25) return 'grid-cols-5';\n    if (count <= 40) return 'grid-cols-6';\n    if (count <= 70) return 'grid-cols-8';\n    return 'grid-cols-10';\n  }\n\n  const handleExportAll = async () => {\n    setIsGenerating(true)\n    try {\n      await new Promise(r => setTimeout(r, 800));\n      if (storyResumoRef.current) {\n        const url = await domToPng(storyResumoRef.current, { scale: 3, width: 400, height: 850 })\n        const link = document.createElement('a');\n        link.download = `01-resumo.png`; link.href = url; link.click();\n      }\n      for (let i = 0; i < paginasLivrosRef.current.length; i++) {\n        const el = paginasLivrosRef.current[i];\n        if (el) {\n          const url = await domToPng(el, { scale: 3, width: 400, height: 850 })\n          const link = document.createElement('a');\n          link.download = `0${i + 2}-biblioteca-${i + 1}.png`; link.href = url; link.click();\n          await new Promise(r => setTimeout(r, 400));\n        }\n      }\n    } catch (err) { alert(\"Erro ao gerar imagens.\") } finally { setIsGenerating(false) }\n  }\n\n  const genreData = useMemo(() => {\n    const counts: Record<string, number> = {}\n    allBooks.forEach(b => { const g = b.genre?.trim() || \"Outros\"; counts[g] = (counts[g] || 0) + 1 })\n    return Object.entries(counts).map(([name, value]) => ({ name, value })).sort((a,b) => b.value - a.value)\n  }, [allBooks])\n\n  const stats = useMemo(() => {\n    if (allBooks.length === 0) return null\n    const totalPages = allBooks.reduce((acc, b) => acc + (Number(b.total_pages) || 0), 0)\n    const topBook = [...allBooks].sort((a, b) => (Number(b.total_pages) || 0) - (Number(a.total_pages) || 0))[0]\n    return { totalBooks: allBooks.length, totalPages, topGenre: genreData[0]?.name || \"Nenhum\", topBook }\n  }, [allBooks, genreData])\n\n  if (loadingData) return <div className=\"h-screen flex items-center justify-center\"><Loader2 className=\"animate-spin text-rose-500\" /></div>\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 pb-20 transition-colors duration-500\">\n      <div className=\"max-w-7xl mx-auto p-4 space-y-12\">\n        \n        <header className=\"flex flex-col md:flex-row justify-between items-center gap-6 px-4 no-export\">\n          <Link href=\"/\"><Button variant=\"ghost\" className=\"text-[10px] font-black uppercase\"><ArrowLeft size={14} className=\"mr-2\"/> Voltar</Button></Link>\n          <div className=\"flex bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm border border-slate-200 gap-2\">\n            {Object.keys(THEMES).map((t) => (\n              <button key={t} onClick={() => setCurrentTheme(t as any)} className={`p-2 transition-all rounded-full ${currentTheme === t ? 'bg-slate-100 scale-110' : 'opacity-30'}`}>\n                <BookOpen size={22} color={THEMES[t as keyof typeof THEMES].primary} fill={currentTheme === t ? THEMES[t as keyof typeof THEMES].primary : \"transparent\"} />\n              </button>\n            ))}\n          </div>\n          <Button onClick={handleExportAll} disabled={isGenerating || allBooks.length === 0} className=\"bg-slate-900 text-white rounded-full font-black uppercase text-[10px] px-8 h-11\">\n            {isGenerating ? <Loader2 className=\"animate-spin\" size={14}/> : <><Instagram size={14} className=\"mr-2\"/> Exportar {bookChunks.length + 1} Stories</>}\n          </Button>\n        </header>\n\n        {allBooks.length > 0 ? (\n          <>\n            <div className=\"flex flex-wrap gap-8 justify-center\">\n              <div ref={storyResumoRef} style={{ width: '400px', height: '850px', backgroundColor: theme.bg }} className=\"px-6 py-8 flex flex-col rounded-[50px] shadow-2xl relative border border-black/5 shrink-0 overflow-hidden\">\n                <div className=\"text-center mb-6 pt-2\">\n                   <p style={{ color: theme.primary }} className=\"text-[10px] font-black uppercase tracking-[0.4em] mb-1\">Retrospectiva Literária</p>\n                   <h1 style={{ color: theme.text }} className=\"text-5xl font-black uppercase italic tracking-tighter leading-none\">{currentYear}</h1>\n                </div>\n\n                <div style={{ backgroundColor: theme.card }} className=\"p-5 rounded-[40px] shadow-sm flex flex-col items-center text-center gap-3 border border-black/5 mx-1 mb-6\">\n                   <div className=\"w-20 h-32 bg-slate-100 rounded-xl overflow-hidden shadow-xl transform -rotate-1 border border-black/5\">\n                      <img src={stats?.topBook?.cover_url} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" />\n                   </div>\n                   <div className=\"space-y-1 w-full px-2\">\n                      <div className=\"flex items-center justify-center gap-1.5\" style={{ color: theme.primary }}><Crown size={12} fill=\"currentColor\" /><span className=\"text-[8px] font-black uppercase tracking-widest\">Destaque do Ano</span></div>\n                      <p style={{ color: theme.text }} className=\"text-[13px] font-black uppercase leading-tight line-clamp-2 italic mb-1\">{stats?.topBook?.book_name}</p>\n                      <p className=\"text-[9px] font-black uppercase opacity-30 tracking-widest\" style={{ color: theme.text }}>{stats?.totalPages.toLocaleString()} Páginas Lidas</p>\n                   </div>\n                </div>\n\n                <div className=\"flex items-center justify-between gap-1 mb-8 px-4 text-center\">\n                  <div><span style={{ color: theme.text }} className=\"text-3xl font-black tracking-tighter leading-none\">{stats?.totalBooks}</span><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Lidos</p></div>\n                  <div className=\"px-4\"><div style={{ backgroundColor: theme.primary }} className=\"py-2 px-4 rounded-2xl shadow-md text-white text-[9px] font-black uppercase truncate leading-none\">{stats?.topGenre}</div><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Favorito</p></div>\n                  <div><span style={{ color: theme.text }} className=\"text-2xl font-black tracking-tighter leading-none\">{stats?.totalPages.toLocaleString()}</span><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Págs</p></div>\n                </div>\n\n                <div className=\"flex-1 flex flex-col items-center justify-center min-h-0\">\n                  <div className=\"h-52 w-full\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <PieChart><Pie data={genreData} innerRadius={45} outerRadius={75} paddingAngle={4} dataKey=\"value\" isAnimationActive={false} label={({ percent }) => `${(percent * 100).toFixed(0)}%`} labelLine={{ stroke: theme.text, strokeWidth: 1.5, opacity: 0.2 }}>\n                          {genreData.map((_, index) => <Cell key={index} fill={GENRE_COLORS[index % GENRE_COLORS.length]} stroke={theme.bg} strokeWidth={2} />)}\n                      </Pie></PieChart>\n                    </ResponsiveContainer>\n                  </div>\n                  <div className=\"flex flex-wrap justify-center gap-x-3 gap-y-1.5 px-2 mt-4\">\n                    {genreData.slice(0, 8).map((item, index) => (\n                      <div key={index} className=\"flex items-center gap-1\">\n                        <div className=\"w-1.5 h-1.5 rounded-full shrink-0\" style={{ backgroundColor: GENRE_COLORS[index % GENRE_COLORS.length] }} />\n                        <span style={{ color: theme.text }} className=\"text-[7px] font-black uppercase tracking-tight opacity-60\">{item.name}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"text-center mt-6 pb-2 opacity-20\" style={{ color: theme.text }}><p className=\"text-[8px] font-black uppercase tracking-[0.5em]\">estante-literaria.vercel.app</p></div>\n              </div>\n\n              {bookChunks.map((chunk, index) => (\n                <div key={index} ref={el => { paginasLivrosRef.current[index] = el }} style={{ width: '400px', height: '850px', backgroundColor: theme.bg }} className=\"px-4 py-12 flex flex-col rounded-[50px] shadow-2xl relative border border-black/5 overflow-hidden shrink-0\">\n                  <div className=\"text-center mb-10 pt-4 px-4\">\n                     <p style={{ color: theme.primary }} className=\"text-[10px] font-black uppercase tracking-[0.4em] mb-2 opacity-80\">Minha Biblioteca</p>\n                     <h1 style={{ color: theme.text }} className=\"text-4xl font-black uppercase italic tracking-tighter leading-none\">{currentYear} {bookChunks.length > 1 ? `(${index + 1}/${bookChunks.length})` : ''}</h1>\n                  </div>\n                  <div className={`grid ${getGridCols(chunk.length)} gap-2 flex-1 content-center items-center px-2`}>\n                    {chunk.map((book, bIdx) => (\n                      <div key={bIdx} className=\"aspect-[3/4.5] w-full rounded-sm shadow-sm overflow-hidden bg-white border border-black/5\">\n                        <img src={book.cover_url} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" alt=\"\" />\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"text-center mt-10 pb-4 opacity-30 px-4\" style={{ color: theme.text }}><p className=\"text-[9px] font-black uppercase tracking-[0.6em]\">estante-literaria.vercel.app</p></div>\n                </div>\n              ))}\n            </div>\n            <div className=\"space-y-8 pt-12 border-t border-slate-200 px-4\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-xs font-black uppercase text-slate-400 flex items-center gap-3 tracking-[0.4em]\">\n                  <Calendar size={20} className=\"text-slate-300\" /> Sua Biblioteca {currentYear}\n                </h2>\n                <span className=\"bg-slate-200 text-slate-500 text-[10px] font-black px-4 py-1 rounded-full uppercase\">\n                  {allBooks.length} Lidos\n                </span>\n              </div>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8\">\n                {allBooks.map((book, i) => (\n                  <div key={i} className=\"group cursor-default\">\n                    <div className=\"aspect-2/3 rounded-[25px] overflow-hidden shadow-md border-[6px] border-white bg-white transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-3 group-hover:rotate-2\">\n                      <img src={book.cover_url || \"https://via.placeholder.com/300x450\"} className=\"w-full h-full object-cover\" alt={book.book_name} />\n                    </div>\n                    <div className=\"mt-4 px-2\">\n                      <p className=\"text-[10px] font-black uppercase text-slate-800 line-clamp-1 tracking-tight\">{book.book_name}</p>\n                      <p className=\"text-[9px] font-bold text-slate-400 uppercase tracking-tighter\">{book.genre}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center p-20 border-2 border-dashed rounded-[50px] text-slate-300 font-black uppercase text-xs tracking-[0.5em]\">Ainda não há livros lidos</div>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AATA;;;;;;;;;;AAWA,MAAM,SAAS;IACb,MAAM;QAAE,SAAS;QAAW,IAAI;QAAW,MAAM;QAAW,MAAM;IAAU;IAC5E,MAAM;QAAE,SAAS;QAAW,IAAI;QAAW,MAAM;QAAW,MAAM;IAAU;IAC5E,MAAM;QAAE,SAAS;QAAW,IAAI;QAAW,MAAM;QAAW,MAAM;IAAU;IAC5E,QAAQ;QAAE,SAAS;QAAW,IAAI;QAAW,MAAM;QAAW,MAAM;IAAU;AAChF;AAEA,MAAM,eAAe;IAAC;IAAW;IAAW;IAAW;IAAW;IAAW;IAAW;IAAW;CAAU;AAE9F,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAsB;IAEtE,MAAM,cAAc;IACpB,MAAM,QAAQ,MAAM,CAAC,aAAa;IAElC,MAAM,iBAAiB,IAAA,+MAAM,EAAiB;IAC9C,MAAM,mBAAmB,IAAA,+MAAM,EAA4B,EAAE;IAE7D,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI,WAAW,mBAAmB,SAAS,MAAM,OAAO;gBACtD,IAAI;oBACF,MAAM,OAAY,MAAM,IAAA,sIAAc,EAAC,QAAQ,IAAI,CAAC,KAAK,EAAE;oBAC3D,MAAM,aAAa,MAAM,OAAO,CAAC,QAAQ,OAAQ,MAAM,QAAQ,EAAE;oBACjE,YAAY,WAAW,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK;gBACzD,EAAE,OAAO,KAAK;oBAAE,QAAQ,KAAK,CAAC;gBAAK,SAAU;oBAAE,eAAe;gBAAO;YACvE,OAAO,IAAI,WAAW,mBAAmB;gBAAE,eAAe;YAAO;QACnE;QACA;IACF,GAAG;QAAC;QAAQ;QAAS;KAAY;IAEjC,MAAM,aAAa,IAAA,gNAAO,EAAC;QACzB,MAAM,SAAS,EAAE;QACjB,MAAM,QAAQ,SAAS,MAAM,IAAI,KAAK,KAAK;QAC3C,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,KAAK,MAAO;YAC/C,OAAO,IAAI,CAAC,SAAS,KAAK,CAAC,GAAG,IAAI;QACpC;QACA,OAAO;IACT,GAAG;QAAC;KAAS;IAEb,MAAM,cAAc,CAAC;QACnB,IAAI,SAAS,GAAG,OAAO;QACvB,IAAI,SAAS,IAAI,OAAO;QACxB,IAAI,SAAS,IAAI,OAAO;QACxB,IAAI,SAAS,IAAI,OAAO;QACxB,IAAI,SAAS,IAAI,OAAO;QACxB,OAAO;IACT;IAEA,MAAM,kBAAkB;QACtB,gBAAgB;QAChB,IAAI;YACF,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;YACrC,IAAI,eAAe,OAAO,EAAE;gBAC1B,MAAM,MAAM,MAAM,IAAA,kKAAQ,EAAC,eAAe,OAAO,EAAE;oBAAE,OAAO;oBAAG,OAAO;oBAAK,QAAQ;gBAAI;gBACvF,MAAM,OAAO,SAAS,aAAa,CAAC;gBACpC,KAAK,QAAQ,GAAG,CAAC,aAAa,CAAC;gBAAE,KAAK,IAAI,GAAG;gBAAK,KAAK,KAAK;YAC9D;YACA,IAAK,IAAI,IAAI,GAAG,IAAI,iBAAiB,OAAO,CAAC,MAAM,EAAE,IAAK;gBACxD,MAAM,KAAK,iBAAiB,OAAO,CAAC,EAAE;gBACtC,IAAI,IAAI;oBACN,MAAM,MAAM,MAAM,IAAA,kKAAQ,EAAC,IAAI;wBAAE,OAAO;wBAAG,OAAO;wBAAK,QAAQ;oBAAI;oBACnE,MAAM,OAAO,SAAS,aAAa,CAAC;oBACpC,KAAK,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC;oBAAE,KAAK,IAAI,GAAG;oBAAK,KAAK,KAAK;oBAChF,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;gBACvC;YACF;QACF,EAAE,OAAO,KAAK;YAAE,MAAM;QAA0B,SAAU;YAAE,gBAAgB;QAAO;IACrF;IAEA,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,MAAM,SAAiC,CAAC;QACxC,SAAS,OAAO,CAAC,CAAA;YAAO,MAAM,IAAI,EAAE,KAAK,EAAE,UAAU;YAAU,MAAM,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,IAAI;QAAE;QAChG,OAAO,OAAO,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,MAAM,MAAM,GAAK,CAAC;gBAAE;gBAAM;YAAM,CAAC,GAAG,IAAI,CAAC,CAAC,GAAE,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IACzG,GAAG;QAAC;KAAS;IAEb,MAAM,QAAQ,IAAA,gNAAO,EAAC;QACpB,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;QAClC,MAAM,aAAa,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,OAAO,EAAE,WAAW,KAAK,CAAC,GAAG;QACnF,MAAM,UAAU;eAAI;SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,OAAO,EAAE,WAAW,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,KAAK,CAAC,EAAE,CAAC,EAAE;QAC5G,OAAO;YAAE,YAAY,SAAS,MAAM;YAAE;YAAY,UAAU,SAAS,CAAC,EAAE,EAAE,QAAQ;YAAU;QAAQ;IACtG,GAAG;QAAC;QAAU;KAAU;IAExB,IAAI,aAAa,qBAAO,8OAAC;QAAI,WAAU;kBAA4C,cAAA,8OAAC,4NAAO;YAAC,WAAU;;;;;;;;;;;IAEtG,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC,uKAAI;4BAAC,MAAK;sCAAI,cAAA,8OAAC,qIAAM;gCAAC,SAAQ;gCAAQ,WAAU;;kDAAmC,8OAAC,6NAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAQ;;;;;;;;;;;;sCAC3H,8OAAC;4BAAI,WAAU;sCACZ,OAAO,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,kBACxB,8OAAC;oCAAe,SAAS,IAAM,gBAAgB;oCAAW,WAAW,CAAC,gCAAgC,EAAE,iBAAiB,IAAI,2BAA2B,cAAc;8CACpK,cAAA,8OAAC,0NAAQ;wCAAC,MAAM;wCAAI,OAAO,MAAM,CAAC,EAAyB,CAAC,OAAO;wCAAE,MAAM,iBAAiB,IAAI,MAAM,CAAC,EAAyB,CAAC,OAAO,GAAG;;;;;;mCADhI;;;;;;;;;;sCAKjB,8OAAC,qIAAM;4BAAC,SAAS;4BAAiB,UAAU,gBAAgB,SAAS,MAAM,KAAK;4BAAG,WAAU;sCAC1F,6BAAe,8OAAC,4NAAO;gCAAC,WAAU;gCAAe,MAAM;;;;;qDAAQ;;kDAAE,8OAAC,yNAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAQ;oCAAW,WAAW,MAAM,GAAG;oCAAE;;;;;;;;;;;;;;gBAI7I,SAAS,MAAM,GAAG,kBACjB;;sCACE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,KAAK;oCAAgB,OAAO;wCAAE,OAAO;wCAAS,QAAQ;wCAAS,iBAAiB,MAAM,EAAE;oCAAC;oCAAG,WAAU;;sDACzG,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC;oDAAE,OAAO;wDAAE,OAAO,MAAM,OAAO;oDAAC;oDAAG,WAAU;8DAAyD;;;;;;8DACvG,8OAAC;oDAAG,OAAO;wDAAE,OAAO,MAAM,IAAI;oDAAC;oDAAG,WAAU;8DAAsE;;;;;;;;;;;;sDAGrH,8OAAC;4CAAI,OAAO;gDAAE,iBAAiB,MAAM,IAAI;4CAAC;4CAAG,WAAU;;8DACpD,8OAAC;oDAAI,WAAU;8DACZ,cAAA,8OAAC;wDAAI,KAAK,OAAO,SAAS;wDAAW,WAAU;wDAA6B,aAAY;;;;;;;;;;;8DAE3F,8OAAC;oDAAI,WAAU;;sEACZ,8OAAC;4DAAI,WAAU;4DAA2C,OAAO;gEAAE,OAAO,MAAM,OAAO;4DAAC;;8EAAG,8OAAC,6MAAK;oEAAC,MAAM;oEAAI,MAAK;;;;;;8EAAiB,8OAAC;oEAAK,WAAU;8EAAkD;;;;;;;;;;;;sEACpM,8OAAC;4DAAE,OAAO;gEAAE,OAAO,MAAM,IAAI;4DAAC;4DAAG,WAAU;sEAA2E,OAAO,SAAS;;;;;;sEACtI,8OAAC;4DAAE,WAAU;4DAA6D,OAAO;gEAAE,OAAO,MAAM,IAAI;4DAAC;;gEAAI,OAAO,WAAW;gEAAiB;;;;;;;;;;;;;;;;;;;sDAIlJ,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;sEAAI,8OAAC;4DAAK,OAAO;gEAAE,OAAO,MAAM,IAAI;4DAAC;4DAAG,WAAU;sEAAqD,OAAO;;;;;;sEAAkB,8OAAC;4DAAE,WAAU;sEAAkD;;;;;;;;;;;;8DAChM,8OAAC;oDAAI,WAAU;;sEAAO,8OAAC;4DAAI,OAAO;gEAAE,iBAAiB,MAAM,OAAO;4DAAC;4DAAG,WAAU;sEAAoG,OAAO;;;;;;sEAAe,8OAAC;4DAAE,WAAU;sEAAkD;;;;;;;;;;;;8DACzQ,8OAAC;;sEAAI,8OAAC;4DAAK,OAAO;gEAAE,OAAO,MAAM,IAAI;4DAAC;4DAAG,WAAU;sEAAqD,OAAO,WAAW;;;;;;sEAAwB,8OAAC;4DAAE,WAAU;sEAAkD;;;;;;;;;;;;;;;;;;sDAGnN,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,0LAAmB;wDAAC,OAAM;wDAAO,QAAO;kEACvC,cAAA,8OAAC,gKAAQ;sEAAC,cAAA,8OAAC,sJAAG;gEAAC,MAAM;gEAAW,aAAa;gEAAI,aAAa;gEAAI,cAAc;gEAAG,SAAQ;gEAAQ,mBAAmB;gEAAO,OAAO,CAAC,EAAE,OAAO,EAAE,GAAK,GAAG,CAAC,UAAU,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;gEAAE,WAAW;oEAAE,QAAQ,MAAM,IAAI;oEAAE,aAAa;oEAAK,SAAS;gEAAI;0EAClP,UAAU,GAAG,CAAC,CAAC,GAAG,sBAAU,8OAAC,4JAAI;wEAAa,MAAM,YAAY,CAAC,QAAQ,aAAa,MAAM,CAAC;wEAAE,QAAQ,MAAM,EAAE;wEAAE,aAAa;uEAAvF;;;;;;;;;;;;;;;;;;;;;;;;;8DAIhD,8OAAC;oDAAI,WAAU;8DACZ,UAAU,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAM,sBAChC,8OAAC;4DAAgB,WAAU;;8EACzB,8OAAC;oEAAI,WAAU;oEAAoC,OAAO;wEAAE,iBAAiB,YAAY,CAAC,QAAQ,aAAa,MAAM,CAAC;oEAAC;;;;;;8EACvH,8OAAC;oEAAK,OAAO;wEAAE,OAAO,MAAM,IAAI;oEAAC;oEAAG,WAAU;8EAA6D,KAAK,IAAI;;;;;;;2DAF5G;;;;;;;;;;;;;;;;sDAOhB,8OAAC;4CAAI,WAAU;4CAAmC,OAAO;gDAAE,OAAO,MAAM,IAAI;4CAAC;sDAAG,cAAA,8OAAC;gDAAE,WAAU;0DAAmD;;;;;;;;;;;;;;;;;gCAGjJ,WAAW,GAAG,CAAC,CAAC,OAAO,sBACtB,8OAAC;wCAAgB,KAAK,CAAA;4CAAQ,iBAAiB,OAAO,CAAC,MAAM,GAAG;wCAAG;wCAAG,OAAO;4CAAE,OAAO;4CAAS,QAAQ;4CAAS,iBAAiB,MAAM,EAAE;wCAAC;wCAAG,WAAU;;0DACrJ,8OAAC;gDAAI,WAAU;;kEACZ,8OAAC;wDAAE,OAAO;4DAAE,OAAO,MAAM,OAAO;wDAAC;wDAAG,WAAU;kEAAoE;;;;;;kEAClH,8OAAC;wDAAG,OAAO;4DAAE,OAAO,MAAM,IAAI;wDAAC;wDAAG,WAAU;;4DAAsE;4DAAY;4DAAE,WAAW,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,WAAW,MAAM,CAAC,CAAC,CAAC,GAAG;;;;;;;;;;;;;0DAEnM,8OAAC;gDAAI,WAAW,CAAC,KAAK,EAAE,YAAY,MAAM,MAAM,EAAE,8CAA8C,CAAC;0DAC9F,MAAM,GAAG,CAAC,CAAC,MAAM,qBAChB,8OAAC;wDAAe,WAAU;kEACxB,cAAA,8OAAC;4DAAI,KAAK,KAAK,SAAS;4DAAE,WAAU;4DAA6B,aAAY;4DAAY,KAAI;;;;;;uDADrF;;;;;;;;;;0DAKd,8OAAC;gDAAI,WAAU;gDAAyC,OAAO;oDAAE,OAAO,MAAM,IAAI;gDAAC;0DAAG,cAAA,8OAAC;oDAAE,WAAU;8DAAmD;;;;;;;;;;;;uCAZ9I;;;;;;;;;;;sCAgBd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,sNAAQ;oDAAC,MAAM;oDAAI,WAAU;;;;;;gDAAmB;gDAAiB;;;;;;;sDAEpE,8OAAC;4CAAK,WAAU;;gDACb,SAAS,MAAM;gDAAC;;;;;;;;;;;;;8CAGrB,8OAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC,MAAM,kBACnB,8OAAC;4CAAY,WAAU;;8DACrB,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,KAAK,KAAK,SAAS,IAAI;wDAAuC,WAAU;wDAA6B,KAAK,KAAK,SAAS;;;;;;;;;;;8DAE/H,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAA+E,KAAK,SAAS;;;;;;sEAC1G,8OAAC;4DAAE,WAAU;sEAAkE,KAAK,KAAK;;;;;;;;;;;;;2CANnF;;;;;;;;;;;;;;;;;iDAclB,8OAAC;oBAAI,WAAU;8BAAsH;;;;;;;;;;;;;;;;;AAK/I"}}]
}