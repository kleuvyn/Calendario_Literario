{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/api-client.ts"],"sourcesContent":["export interface User {\n  id: number;\n  email: string;\n  name: string;\n  image?: string;\n  theme?: string; // ADICIONADO: Suporte ao tema no tipo\n  literary_goal?: number;\n}\n\nexport interface ReadingDay {\n  id: number;\n  day: number;\n  month: number;\n  year: number;\n  start_date: string;\n  end_date?: string;\n  book_name: string;\n  status: string;\n  email: string;\n  user_id: number;\n  rating?: number;\n  cover_url?: string;\n  total_pages?: number;\n  genre?: string; // Adicionado para consistência com a Retrospectiva\n}\n\nexport interface Book {\n  book_name: string;\n  cover_url?: string;\n  rating: number;\n  start_date?: string;\n  end_date?: string;\n  total_pages?: number;\n  id?: number;\n  book_id?: number;\n}\n\nexport async function loginUser(email: string, name?: string, image?: string): Promise<User> {\n  const response = await fetch(\"/api/auth/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email: email.toLowerCase(), name, image }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao fazer login\");\n  const data = await response.json();\n  return data.user;\n}\n\nexport async function getReadingData(\n  email: string, \n  year: number, \n  isRetrospective: boolean = false,\n  signal?: AbortSignal\n): Promise<any> {\n  let url = `/api/reading-data?email=${encodeURIComponent(email.toLowerCase())}&year=${year}&isRetrospective=${isRetrospective}`;\n  \n  url += `&t=${Date.now()}`; // Cache bust\n  \n  const response = await fetch(url, { cache: 'no-store', signal });\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Erro ao buscar dados\");\n  }\n  return await response.json();\n}\n\nexport async function updateUserGoal(email: string, goal: number, currentYear: number) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ \n      action: \"SET_GOAL\", \n      email: email.toLowerCase(), \n      goal: goal,\n      year: currentYear \n    }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar meta\");\n  return response.json();\n}\n\nexport async function saveReadingDay(\n  email: string, \n  year: number, \n  month: number, \n  day: number,\n  startDate: string, \n  endDate: string, \n  bookName: string,\n  action: \"START_READING\" | \"FINISH_READING\",\n  coverUrl?: string,      \n  totalPages?: number     \n) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ \n      email: email.toLowerCase(), \n      year, \n      month, \n      day, \n      startDate, \n      endDate, \n      bookName, \n      action,\n      coverUrl,    \n      totalPages: Number(totalPages) || 0 \n    }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar dados\");\n  return response.json();\n}\n\nexport async function saveReview(email: string, bookName: string, rating: number, coverUrl: string, totalPages?: number) {\n  const response = await fetch(\"/api/reading-data\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ \n      email: email.toLowerCase(), \n      bookName, \n      rating, \n      coverUrl, \n      totalPages: Number(totalPages) || 0, \n      action: \"UPDATE_REVIEW\" \n    }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao salvar avaliação\");\n  return response.json();\n}\n\n// FUNÇÃO ATUALIZADA PARA SUPORTAR TEMA E IMAGEM\nexport async function updateProfile(email: string, data: { image?: string, theme?: string }) {\n  const response = await fetch(\"/api/user/update-profile\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ \n      email: email.toLowerCase(), \n      ...data \n    }),\n  });\n  if (!response.ok) throw new Error(\"Erro ao atualizar perfil\");\n  return response.json();\n}\n\n// Mantida por compatibilidade com componentes antigos\nexport async function updateProfileImage(email: string, imageUrl: string) {\n  return updateProfile(email, { image: imageUrl });\n}\n\nexport async function deleteFullAccount() {\n  const response = await fetch(\"/api/user/delete-account\", {\n    method: \"DELETE\",\n    cache: 'no-store'\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Erro ao apagar conta\");\n  }\n  return response.json();\n}\n\nexport async function searchGoogleBooks(query: string) {\n  if (!query || query.length < 3) return [];\n  try {\n    const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=5`);\n    const data = await res.json();\n    return data.items?.map((item: any) => ({\n      title: item.volumeInfo.title,\n      authors: item.volumeInfo.authors?.join(\", \"),\n      thumbnail: item.volumeInfo.imageLinks?.thumbnail?.replace(\"http:\", \"https:\"),\n      pageCount: item.volumeInfo.pageCount || 0\n    })) || [];\n  } catch (e) {\n    console.error(\"Google Books Error:\", e);\n    return [];\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///home/kleuvyn/Documentos/MeusRepositorios/Calendario_Literario/app/retrospectiva/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useMemo, useRef } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { BookOpen, Loader2, Star, ArrowLeft, Instagram, Crown, Calendar, ChevronDown } from \"lucide-react\"\nimport { getReadingData } from \"@/lib/api-client\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { PieChart, Pie, Cell, ResponsiveContainer } from \"recharts\"\nimport { domToPng } from \"modern-screenshot\"\n\nconst THEMES = {\n  rose: { primary: '#f4a6f0', bg: '#fff5f6', text: '#a64d9c', card: '#ffffff' },\n  dark: { primary: '#38bdf8', bg: '#f0f7ff', text: '#1e293b', card: '#ffffff' },\n  soft: { primary: '#a855f7', bg: '#faf5ff', text: '#5b1c87', card: '#ffffff' },\n  coffee: { primary: '#7c3f17', bg: '#fafaf9', text: '#4b3832', card: '#ffffff' },\n  ocean: { primary: '#0ea5e9', bg: '#f0f9ff', text: '#0369a1', card: '#ffffff' },\n  forest: { primary: '#10b981', bg: '#f0fdf4', text: '#065f46', card: '#ffffff' },\n  sunset: { primary: '#f59e0b', bg: '#fffbeb', text: '#92400e', card: '#ffffff' },\n  midnight: { primary: '#818cf8', bg: '#0f172a', text: '#f8fafc', card: '#1e293b' } \n}\n\nconst GENRE_COLORS = [\"#ec4899\", \"#3b82f6\", \"#a855f7\", \"#ef4444\", \"#10b981\", \"#f59e0b\", \"#64748b\", \"#06b6d4\"];\n\nconst getProxyUrl = (url: string) => {\n  if (!url) return \"\";\n  if (url.includes(\"googleusercontent.com\") || url.includes(\"books.google.com\")) {\n    return `https://images.weserv.nl/?url=${encodeURIComponent(url.replace(\"http://\", \"https://\"))}`;\n  }\n  return url;\n};\n\nexport default function RetrospectivaPage() {\n  const { data: session, status } = useSession()\n  const [allBooks, setAllBooks] = useState<any[]>([])\n  const [loadingData, setLoadingData] = useState(true)\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [currentTheme, setCurrentTheme] = useState<keyof typeof THEMES>('rose')\n  \n  const [currentYear, setCurrentYear] = useState(() => new Date().getFullYear())\n  \n  const yearsAvailable = useMemo(() => {\n    const startYear = 2024;\n    const now = new Date().getFullYear();\n    const years = [];\n    for (let i = now; i >= startYear; i--) {\n      years.push(i);\n    }\n    return years;\n  }, []);\n\n  const theme = THEMES[currentTheme]\n  const storyResumoRef = useRef<HTMLDivElement>(null)\n  const paginasLivrosRef = useRef<(HTMLDivElement | null)[]>([])\n\n  useEffect(() => {\n    async function loadData() {\n      if (status === \"authenticated\" && session?.user?.email) {\n        setLoadingData(true)\n        try {\n          // 1. Busca os livros (Independente do tema)\n          const data: any = await getReadingData(session.user.email, currentYear, true)\n          const booksArray = Array.isArray(data) ? data : (data?.data || [])\n          setAllBooks(booksArray.filter((b: any) => b.status !== 'lendo' && b.status !== 'reading'))\n\n          // 2. Busca o tema (Com proteção contra erro 405 ou SyntaxError)\n          try {\n            const profileRes = await fetch(`/api/user/update-profile?email=${session.user.email}`)\n            if (profileRes.ok) {\n                const profileData = await profileRes.json()\n                if (profileData?.theme && THEMES[profileData.theme as keyof typeof THEMES]) {\n                  setCurrentTheme(profileData.theme as keyof typeof THEMES)\n                }\n            }\n          } catch (themeErr) {\n            console.warn(\"Aviso: Não foi possível carregar o tema personalizado, usando padrão.\");\n          }\n\n        } catch (err) { \n          console.error(\"Erro ao carregar dados dos livros:\", err) \n        } finally { \n          setLoadingData(false) \n        }\n      } else if (status === \"unauthenticated\") { \n        setLoadingData(false) \n      }\n    }\n    loadData()\n  }, [status, session, currentYear])\n\n  const handleThemeChange = async (newTheme: keyof typeof THEMES) => {\n    setCurrentTheme(newTheme)\n    if (session?.user?.email) {\n      try {\n        await fetch('/api/user/update-profile', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ email: session.user.email, theme: newTheme })\n        })\n      } catch (err) { console.error(\"Erro ao salvar tema:\", err) }\n    }\n  }\n\n  const bookChunks = useMemo(() => {\n    const chunks = []\n    const limit = allBooks.length <= 40 ? 40 : 100\n    for (let i = 0; i < allBooks.length; i += limit) {\n      chunks.push(allBooks.slice(i, i + limit))\n    }\n    return chunks\n  }, [allBooks])\n\n  const getGridCols = (count: number) => {\n    if (count <= 9) return 'grid-cols-3';\n    if (count <= 16) return 'grid-cols-4';\n    if (count <= 25) return 'grid-cols-5';\n    if (count <= 40) return 'grid-cols-6';\n    if (count <= 70) return 'grid-cols-8';\n    return 'grid-cols-10';\n  }\n\n  const handleExportAll = async () => {\n    setIsGenerating(true)\n    try {\n      await new Promise(r => setTimeout(r, 1000));\n\n      const downloadEl = async (el: HTMLElement, fileName: string) => {\n        const url = await domToPng(el, { \n          scale: 3, \n          quality: 1,\n          width: 400, \n          height: 850 \n        });\n        const link = document.createElement('a');\n        link.download = fileName;\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      };\n\n      if (storyResumoRef.current) {\n        await downloadEl(storyResumoRef.current, `01-resumo-${currentYear}.png`);\n      }\n\n      await new Promise(r => setTimeout(r, 1500));\n\n      for (let i = 0; i < paginasLivrosRef.current.length; i++) {\n        const el = paginasLivrosRef.current[i];\n        if (el) {\n          el.scrollIntoView({ block: 'center' });\n          await new Promise(r => setTimeout(r, 500));\n          await downloadEl(el, `0${i + 2}-biblioteca-${i + 1}.png`);\n          await new Promise(r => setTimeout(r, 1500)); \n        }\n      }\n    } catch (err) { \n      alert(\"Erro ao gerar. Tente abrir pelo Safari ou Chrome.\"); \n    } finally { \n      setIsGenerating(false); \n    }\n  }\n\n  const genreData = useMemo(() => {\n    const counts: Record<string, number> = {}\n    allBooks.forEach(b => { const g = b.genre?.trim() || \"Outros\"; counts[g] = (counts[g] || 0) + 1 })\n    return Object.entries(counts).map(([name, value]) => ({ name, value })).sort((a,b) => b.value - a.value)\n  }, [allBooks])\n\n  const stats = useMemo(() => {\n    if (allBooks.length === 0) return null\n    const totalPagesYear = allBooks.reduce((acc, b) => acc + (Number(b.total_pages) || 0), 0)\n    const topBook = [...allBooks].sort((a, b) => (Number(b.total_pages) || 0) - (Number(a.total_pages) || 0))[0]\n    return { totalBooks: allBooks.length, totalPagesYear, topGenre: genreData[0]?.name || \"Nenhum\", topBook }\n  }, [allBooks, genreData])\n\n  if (loadingData) return <div className=\"h-screen flex items-center justify-center bg-slate-50\"><Loader2 className=\"animate-spin text-rose-500\" /></div>\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 pb-20 transition-colors duration-500\">\n      <div className=\"max-w-7xl mx-auto p-4 space-y-12\">\n        \n        <header className=\"flex flex-col md:flex-row justify-between items-center gap-6 px-4 no-export\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/\"><Button variant=\"ghost\" className=\"text-[10px] font-black uppercase\"><ArrowLeft size={14} className=\"mr-2\"/> Voltar</Button></Link>\n            \n            <div className=\"relative flex items-center bg-white border border-slate-200 rounded-full px-4 py-1.5 shadow-sm\">\n              <Calendar size={12} className=\"mr-2 text-slate-400\" />\n              <select \n                value={currentYear} \n                onChange={(e) => setCurrentYear(Number(e.target.value))}\n                className=\"appearance-none bg-transparent text-[11px] font-black uppercase pr-6 outline-none cursor-pointer\"\n                style={{ color: theme.text }}\n              >\n                {yearsAvailable.map(y => <option key={y} value={y}>{y}</option>)}\n              </select>\n              <ChevronDown size={10} className=\"absolute right-3 pointer-events-none opacity-50\" />\n            </div>\n          </div>\n\n          <div className=\"flex bg-white/90 backdrop-blur-md p-2 rounded-full shadow-sm border border-slate-200 gap-2\">\n            {Object.keys(THEMES).map((t) => (\n              <button key={t} onClick={() => handleThemeChange(t as any)} className={`p-2 transition-all rounded-full ${currentTheme === t ? 'bg-slate-100 scale-110' : 'opacity-30'}`}>\n                <BookOpen size={22} color={THEMES[t as keyof typeof THEMES].primary} fill={currentTheme === t ? THEMES[t as keyof typeof THEMES].primary : \"transparent\"} />\n              </button>\n            ))}\n          </div>\n\n          <Button onClick={handleExportAll} disabled={isGenerating || allBooks.length === 0} className=\"bg-slate-900 text-white rounded-full font-black uppercase text-[10px] px-8 h-11 hover:bg-black transition-all shadow-lg active:scale-95\">\n            {isGenerating ? <Loader2 className=\"animate-spin\" size={14}/> : <><Instagram size={14} className=\"mr-2\"/> Exportar Stories</>}\n          </Button>\n        </header>\n\n        {allBooks.length > 0 ? (\n          <>\n            <div className=\"flex flex-wrap gap-12 justify-center\">\n              {/* STORY RESUMO */}\n              <div ref={storyResumoRef} style={{ width: '400px', height: '850px', backgroundColor: theme.bg }} className=\"px-6 py-8 flex flex-col rounded-[50px] shadow-2xl relative border border-black/5 shrink-0 overflow-hidden\">\n                <div className=\"text-center mb-6 pt-2\">\n                   <p style={{ color: theme.primary }} className=\"text-[10px] font-black uppercase tracking-[0.4em] mb-1\">Retrospectiva Literária</p>\n                   <h1 style={{ color: theme.text }} className=\"text-5xl font-black uppercase italic tracking-tighter leading-none\">{currentYear}</h1>\n                </div>\n\n                <Link href={`/livro/${stats?.topBook?.id || stats?.topBook?.book_id}`} className=\"block transition-transform hover:scale-[1.02] active:scale-95\">\n                  <div style={{ backgroundColor: theme.card }} className=\"p-5 rounded-[40px] shadow-sm flex flex-col items-center text-center gap-3 border border-black/5 mx-1 mb-6\">\n                    <div className=\"w-20 h-32 bg-slate-100 rounded-xl overflow-hidden shadow-xl transform -rotate-1 border border-black/5\">\n                        <img src={getProxyUrl(stats?.topBook?.cover_url)} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" alt=\"\" />\n                    </div>\n                    <div className=\"space-y-1 w-full px-2\">\n                        <div className=\"flex items-center justify-center gap-1.5\" style={{ color: theme.primary }}><Crown size={12} fill=\"currentColor\" /><span className=\"text-[8px] font-black uppercase tracking-widest\">Destaque do Ano</span></div>\n                        <p style={{ color: theme.text }} className=\"text-[13px] font-black uppercase leading-tight line-clamp-2 italic mb-1\">{stats?.topBook?.book_name}</p>\n                        <p className=\"text-[9px] font-black uppercase opacity-30 tracking-widest\" style={{ color: theme.text }}>\n                          {Number(stats?.topBook?.total_pages || 0).toLocaleString()} Páginas\n                        </p>\n                    </div>\n                  </div>\n                </Link>\n\n                <div className=\"flex items-center justify-between gap-1 mb-8 px-4 text-center\">\n                  <div><span style={{ color: theme.text }} className=\"text-3xl font-black tracking-tighter leading-none\">{stats?.totalBooks}</span><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Lidos</p></div>\n                  <div className=\"px-4\"><div style={{ backgroundColor: theme.primary }} className=\"py-2 px-4 rounded-2xl shadow-md text-white text-[9px] font-black uppercase truncate leading-none\">{stats?.topGenre}</div><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Favorito</p></div>\n                  <div><span style={{ color: theme.text }} className=\"text-2xl font-black tracking-tighter leading-none\">{stats?.totalPagesYear.toLocaleString()}</span><p className=\"text-[7px] font-black uppercase opacity-40 mt-1\">Págs no ano</p></div>\n                </div>\n\n                <div className=\"flex-1 flex flex-col items-center justify-center min-h-0\">\n                  <div className=\"h-52 w-full\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <PieChart><Pie data={genreData} innerRadius={45} outerRadius={75} paddingAngle={4} dataKey=\"value\" isAnimationActive={false} label={({ percent }) => `${(percent * 100).toFixed(0)}%`} labelLine={{ stroke: theme.text, strokeWidth: 1.5, opacity: 0.2 }}>\n                          {genreData.map((_, index) => <Cell key={index} fill={GENRE_COLORS[index % GENRE_COLORS.length]} stroke={theme.bg} strokeWidth={2} />)}\n                      </Pie></PieChart>\n                    </ResponsiveContainer>\n                  </div>\n                  <div className=\"flex flex-wrap justify-center gap-x-3 gap-y-1.5 px-2 mt-4\">\n                    {genreData.slice(0, 8).map((item, index) => (\n                      <div key={index} className=\"flex items-center gap-1\">\n                        <div className=\"w-1.5 h-1.5 rounded-full shrink-0\" style={{ backgroundColor: GENRE_COLORS[index % GENRE_COLORS.length] }} />\n                        <span style={{ color: theme.text }} className=\"text-[7px] font-black uppercase tracking-tight opacity-60\">{item.name}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"text-center mt-6 pb-2 opacity-20\" style={{ color: theme.text }}><p className=\"text-[8px] font-black uppercase tracking-[0.5em]\">estante-literaria.vercel.app</p></div>\n              </div>\n\n              {/* STORIES DA BIBLIOTECA (CHUNKS) */}\n              {bookChunks.map((chunk, index) => (\n                <div key={index} ref={el => { paginasLivrosRef.current[index] = el }} style={{ width: '400px', height: '850px', backgroundColor: theme.bg }} className=\"px-4 py-12 flex flex-col rounded-[50px] shadow-2xl relative border border-black/5 overflow-hidden shrink-0\">\n                  <div className=\"text-center mb-10 pt-4 px-4\">\n                     <p style={{ color: theme.primary }} className=\"text-[10px] font-black uppercase tracking-[0.4em] mb-2 opacity-80\">Minha Biblioteca</p>\n                     <h1 style={{ color: theme.text }} className=\"text-4xl font-black uppercase italic tracking-tighter leading-none\">{currentYear} {bookChunks.length > 1 ? `(${index + 1}/${bookChunks.length})` : ''}</h1>\n                  </div>\n                  <div className={`grid ${getGridCols(chunk.length)} gap-2 flex-1 content-center items-center px-2`}>\n                    {chunk.map((book, bIdx) => (\n                      <div key={bIdx} className=\"aspect-[3/4.5] w-full rounded-sm shadow-sm overflow-hidden bg-white border border-black/5\">\n                        <img src={getProxyUrl(book.cover_url)} className=\"w-full h-full object-cover\" crossOrigin=\"anonymous\" alt=\"\" />\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"text-center mt-10 pb-4 opacity-30 px-4\" style={{ color: theme.text }}><p className=\"text-[9px] font-black uppercase tracking-[0.6em]\">estante-literaria.vercel.app</p></div>\n                </div>\n              ))}\n            </div>\n\n            {/* LISTAGEM DETALHADA ABAIXO */}\n            <div className=\"space-y-10 pt-16 border-t border-slate-200 px-4 max-w-6xl mx-auto\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-1\">\n                  <h2 className=\"text-xs font-black uppercase text-slate-400 flex items-center gap-3 tracking-[0.4em]\">\n                    <Calendar size={18} className=\"text-slate-300\" /> Sua Biblioteca {currentYear}\n                  </h2>\n                  <p className=\"text-2xl font-black italic uppercase tracking-tighter text-slate-800\">Todos os livros lidos</p>\n                </div>\n                <span className=\"bg-slate-900 text-white text-[11px] font-black px-6 py-2 rounded-full uppercase shadow-lg\">\n                  {allBooks.length} Livros Lidos\n                </span>\n              </div>\n              \n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8 pb-20\">\n                {allBooks.map((book, i) => (\n                  <Link href={`/livro/${book.id || book.book_id}`} key={i} className=\"group cursor-pointer\">\n                    <div className=\"aspect-2/3 rounded-[28px] overflow-hidden shadow-md border-[6px] border-white bg-white transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-3 group-hover:rotate-2 relative\">\n                      <img src={getProxyUrl(book.cover_url) || \"https://via.placeholder.com/300x450\"} className=\"w-full h-full object-cover\" alt={book.book_name} />\n                      <div className=\"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                    </div>\n                    <div className=\"mt-4 px-2\">\n                      <p className=\"text-[11px] font-black uppercase text-slate-800 line-clamp-1 tracking-tight group-hover:text-rose-500 transition-colors\">{book.book_name}</p>\n                      <div className=\"flex items-center justify-between mt-1\">\n                        <p className=\"text-[9px] font-bold text-slate-400 uppercase tracking-tighter\">{book.genre}</p>\n                        <div className=\"flex items-center gap-1 text-amber-400\">\n                           <Star size={8} fill=\"currentColor\" />\n                           <span className=\"text-[9px] font-black\">{book.rating || 0}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-40 border-4 border-dashed border-slate-200 rounded-[60px] text-slate-300 text-center space-y-4\">\n             <BookOpen size={48} className=\"opacity-20\" />\n             <p className=\"font-black uppercase text-sm tracking-[0.5em]\">Nenhum livro lido em {currentYear}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}